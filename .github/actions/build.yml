name: "Build"
runs:
  using: "composite"
  steps:
    # https://github.com/marketplace/actions/setup-php-action
    - name: Setup PHP 8.1
      uses: shivammathur/setup-php@v2
      with:
        php-version: '8.1'

    - name: Install dependencies
      run: composer install --prefer-dist --no-dev

    # https://github.com/marketplace/actions/upload-a-build-artifact
    - name: Create artifact
      uses: actions/upload-artifact@v3
      with:
        name: artifact-release-without-tests
        path: |
          **
          !tests/**
          !.git/**